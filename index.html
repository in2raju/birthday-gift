<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Barsha! üéâ</title>
<style>
    body { 
        margin:0; 
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        background: linear-gradient(135deg, #ff9a9e, #fad0c4); 
        text-align: center; 
        color: white; 
        overflow-x: hidden;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    /* Start Screen (Only Button) */
    #startScreen {
        position: absolute;
        z-index: 10;
        transition: opacity 1s ease-out;
    }

    /* Hidden Content Container */
    #birthdayContent {
        display: none;
        opacity: 0;
        transition: opacity 2s ease-in;
        width: 100%;
    }

    h1 { font-size: 42px; text-shadow: 2px 2px 10px rgba(0,0,0,0.2); margin-bottom: 5px; margin-top: 20px;}
    
    .age-box { 
        font-size: 55px; 
        font-weight: bold; 
        text-shadow: 0 0 20px #fff; 
        margin-bottom: 10px;
    }

    #detailedAge {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(12px);
        padding: 15px;
        border-radius: 25px;
        margin: 10px auto;
        max-width: 450px;
        border: 1px solid rgba(255,255,255,0.4);
        box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    .time-unit { font-weight: bold; color: #d6336c; font-size: 22px; }

    #surpriseBtn { 
        padding: 20px 50px; 
        border: none; 
        border-radius: 50px; 
        font-size: 26px; 
        cursor: pointer; 
        background: white;
        color: #ff6f91;
        font-weight: bold;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        transition: transform 0.3s;
        animation: pulse 2s infinite;
    }
    #surpriseBtn:hover { transform: scale(1.1); }

    @keyframes pulse {
        0%, 100% { transform: scale(1); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        50% { transform: scale(1.05); box-shadow: 0 15px 45px rgba(255,255,255,0.5); }
    }

    /* --- TRIANGLE CONTAINER WITH EDGES --- */
    .triangle-container {
        position: relative;
        width: 350px; 
        height: 350px;
        margin: 30px auto;
        animation: spinContainer 18s linear infinite;
    }

    /* SVG for the connecting edges */
    .triangle-edges {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        z-index: 1;
    }

    .triangle-img {
        position: absolute;
        width: 100px;  
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 5px solid white;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        z-index: 2;
        top: 50%; left: 50%;
        animation: counterSpin 18s linear infinite;
    }

    /* Geometric Positioning */
    #img1 { margin-top: -150px; margin-left: -50px; } /* Top center */
    #img2 { margin-top: 50px; margin-left: 70px; }   /* Bottom right */
    #img3 { margin-top: 50px; margin-left: -170px; } /* Bottom left */

    @keyframes spinContainer {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    @keyframes counterSpin {
        from { transform: rotate(0deg); }
        to { transform: rotate(-360deg); }
    }
    
    .cake-svg { margin: 15px auto; width: 340px; }
    #confetti, #fireworks { position: fixed; top:0; left:0; pointer-events:none; z-index:1; }
</style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="happy-birthday-155461.mp3" type="audio/mpeg">
</audio>

<canvas id="confetti"></canvas>
<canvas id="fireworks"></canvas>

<div id="startScreen">
    <button id="surpriseBtn">üéÅ Open Your Surprise, Barsha! üéÅ</button>
</div>

<div id="birthdayContent">
    <h1>üéâ Happy Birthday, Barsha! üéÇ</h1>
    <div class="age-box" id="ageBox">0 Years</div>
    
    <div id="detailedAge">
        <div id="liveClock">Calculating the magic...</div>
    </div>

    <div class="triangle-container">
        <svg class="triangle-edges" viewBox="0 0 350 350">
            <polygon points="175,25 315,275 35,275" fill="none" stroke="white" stroke-width="3" stroke-dasharray="10,5" />
        </svg>

        <img id="img1" class="triangle-img" src="pic1.jpg" alt="Photo 1">
        <img id="img2" class="triangle-img" src="pic2.jpg" alt="Photo 2">
        <img id="img3" class="triangle-img" src="pic3.jpg" alt="Photo 3">
    </div>

    <h2 id="loveMessage" style="font-style: italic;">‚ù§Ô∏è Wishing you endless happiness and love! ‚ù§Ô∏è</h2>
    
    <div class="cake-svg">
        <svg width="340" height="300" viewBox="0 0 360 320">
            <ellipse cx="180" cy="290" rx="140" ry="15" fill="rgba(255,255,255,0.4)"/>
            <rect x="50" y="200" width="260" height="70" rx="20" fill="#ffb347"/>
            <rect x="65" y="140" width="230" height="65" rx="20" fill="#ffcc33"/>
            <text x="180" y="182" text-anchor="middle" font-size="32" fill="#d6336c" font-weight="bold" style="font-family: 'Brush Script MT', cursive;">Barsha</text>
            <rect x="90" y="90" width="180" height="55" rx="20" fill="#ffdd55"/>
            <text x="180" y="125" text-anchor="middle" font-size="16" fill="#d6336c" font-weight="bold">HAPPY BIRTHDAY</text>
            <g id="candles"></g>
        </svg>
    </div>
</div>

<script>
window.onload = function() {
    const startScreen = document.getElementById("startScreen");
    const surpriseBtn = document.getElementById("surpriseBtn");
    const content = document.getElementById("birthdayContent");
    const ageBox = document.getElementById("ageBox");
    const liveClock = document.getElementById("liveClock");
    const music = document.getElementById("bgMusic");
    
    const birthDate = new Date("1999-01-01T00:00:00");

    const candleGroup = document.getElementById("candles");
    for(let i=0; i<27; i++) {
        let x = 95 + i * 6.2;
        candleGroup.innerHTML += `<rect x="${x}" y="65" width="4" height="25" fill="#ff4d4d"/><circle cx="${x+2}" cy="60" r="3" fill="gold"><animate attributeName="r" values="2;4;2" dur="0.6s" repeatCount="indefinite"/></circle>`;
    }

    function updateDetailedAge() {
        const now = new Date();
        let diff = now - birthDate;
        const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
        const months = Math.floor((diff % (1000 * 60 * 60 * 24 * 365.25)) / (1000 * 60 * 60 * 24 * 30.44));
        const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30.44)) / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        liveClock.innerHTML = `
            <span class="time-unit">${years}</span> Years, <span class="time-unit">${months}</span> Months, <span class="time-unit">${days}</span> Days<br>
            <span class="time-unit">${hours}</span>h : <span class="time-unit">${minutes}</span>m : <span class="time-unit">${seconds}</span>s
        `;
    }

    surpriseBtn.addEventListener("click", function() {
        // Play Music
        music.play().catch(e => console.log("Music play blocked by browser"));

        startScreen.style.opacity = "0";
        setTimeout(() => { startScreen.style.display = "none"; }, 1000);

        content.style.display = "block";
        setTimeout(() => { content.style.opacity = "1"; }, 100);

        let tempAge = 0;
        const targetAge = new Date().getFullYear() - 1999; 

        const counter = setInterval(() => {
            tempAge++;
            ageBox.textContent = tempAge + " Years";
            if(tempAge >= targetAge) {
                clearInterval(counter);
                setInterval(updateDetailedAge, 1000);
                updateDetailedAge();
            }
        }, 60);

        initAnimations();
    });

    function initAnimations() {
        const conf = document.getElementById("confetti");
        const ctx = conf.getContext("2d");
        conf.width = window.innerWidth; conf.height = window.innerHeight;
        let confetti = Array.from({length: 150}, () => ({
            x: Math.random() * conf.width, y: Math.random() * conf.height,
            r: Math.random() * 6 + 2, d: Math.random() * 4 + 2,
            color: `hsl(${Math.random() * 360}, 100%, 50%)`
        }));
        function drawC() {
            ctx.clearRect(0, 0, conf.width, conf.height);
            confetti.forEach(c => {
                ctx.beginPath(); ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
                ctx.fillStyle = c.color; ctx.fill();
                c.y += c.d; if (c.y > conf.height) c.y = -10;
            });
            requestAnimationFrame(drawC);
        }
        drawC();

        const fw = document.getElementById("fireworks");
        const fctx = fw.getContext("2d");
        fw.width = window.innerWidth; fw.height = window.innerHeight;
        let particles = [];
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * (window.innerHeight / 2);
            for(let i=0; i<25; i++) particles.push({x, y, vx: Math.cos(i) * Math.random() * 6, vy: Math.sin(i) * Math.random() * 6, life: 50});
        }, 1200);
        function drawF() {
            fctx.clearRect(0, 0, fw.width, fw.height);
            particles.forEach(p => {
                fctx.fillStyle = "gold"; fctx.fillRect(p.x, p.y, 2, 2);
                p.x += p.vx; p.y += p.vy; p.life--;
            });
            particles = particles.filter(p => p.life > 0);
            requestAnimationFrame(drawF);
        }
        drawF();
    }
};
</script>
</body>
</html>
