<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Barsha! üéâ</title>
<style>
    body { 
        margin:0; 
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        background: linear-gradient(135deg, #ff9a9e, #fad0c4); 
        text-align: center; 
        color: white; 
        overflow: hidden; /* Prevent scrolling during the surprise */
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .container { padding: 20px; position: relative; z-index: 2; width: 100%; }
    
    /* Initially Hidden Elements */
    #birthdayContent { display: none; opacity: 0; transition: opacity 1.5s ease-in; }
    
    h1 { font-size: 38px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
    
    .age-box { 
        font-size: 60px; 
        font-weight: bold; 
        margin: 10px 0; 
        text-shadow: 0 0 15px #fff, 0 0 30px #ff6f91; 
    }

    #detailedAge {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        padding: 20px;
        border-radius: 20px;
        margin: 15px auto;
        max-width: 450px;
        font-size: 18px;
        border: 1px solid rgba(255,255,255,0.3);
    }
    .time-unit { font-weight: bold; color: #d6336c; font-size: 22px; }

    #surpriseBtn { 
        padding: 20px 50px; 
        border: none; 
        border-radius: 50px; 
        font-size: 24px; 
        cursor: pointer; 
        background: white;
        color: #ff6f91;
        font-weight: bold;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        transition: 0.3s;
        animation: pulse 2s infinite;
    }
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }

    #photo { 
        width: 250px; 
        height: 250px;
        object-fit: cover;
        border: 8px solid white;
        border-radius: 50%; /* Circular frame for a nice look */
        margin: 20px auto; 
        opacity: 0; 
        transition: opacity 1s ease-in-out; 
        box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    }
    
    .cake-svg { margin: 10px auto; width: 300px; }
    #confetti, #fireworks { position: fixed; top:0; left:0; pointer-events:none; z-index:1; }
</style>
</head>
<body>

<canvas id="confetti"></canvas>
<canvas id="fireworks"></canvas>

<div class="container">
    <button id="surpriseBtn">üéÅ Open Your Surprise, Barsha! üéÅ</button>

    <div id="birthdayContent">
        <h1>üéâ Happy Birthday, Barsha! üéÇ</h1>
        <div class="age-box" id="ageBox">0 Years</div>
        
        <div id="detailedAge">
            <div id="liveClock"></div>
        </div>

        <img id="photo" src="" alt="Birthday Photo">

        <div class="cake-svg">
            <svg width="300" height="260" viewBox="0 0 360 320">
                <ellipse cx="180" cy="290" rx="140" ry="15" fill="rgba(255,255,255,0.4)"/>
                <rect x="50" y="200" width="260" height="70" rx="20" fill="#ffb347"/>
                <rect x="65" y="140" width="230" height="65" rx="20" fill="#ffcc33"/>
                <text x="180" y="182" text-anchor="middle" font-size="30" fill="#d6336c" font-weight="bold" style="font-family: 'Brush Script MT', cursive;">Barsha</text>
                <rect x="90" y="90" width="180" height="55" rx="20" fill="#ffdd55"/>
                <text x="180" y="125" text-anchor="middle" font-size="16" fill="#d6336c" font-weight="bold">HAPPY BIRTHDAY</text>
                <g id="candles"></g>
            </svg>
        </div>
        <h2 id="loveMessage">‚ù§Ô∏è Wishing you the best day ever! ‚ù§Ô∏è</h2>
    </div>
</div>

<script>
window.onload = function() {
    const btn = document.getElementById("surpriseBtn");
    const content = document.getElementById("birthdayContent");
    const ageBox = document.getElementById("ageBox");
    const photo = document.getElementById("photo");
    const liveClock = document.getElementById("liveClock");
    const birthDate = new Date("1999-01-01T00:00:00");

    /* Prepare Candles */
    const candleGroup = document.getElementById("candles");
    for(let i=0; i<27; i++) {
        let x = 95 + i * 6.2;
        candleGroup.innerHTML += `<rect x="${x}" y="65" width="4" height="25" fill="#ff4d4d"/><circle cx="${x+2}" cy="60" r="3" fill="gold"><animate attributeName="r" values="2;4;2" dur="0.6s" repeatCount="indefinite"/></circle>`;
    }

    function updateDetailedAge() {
        const now = new Date();
        let diff = now - birthDate;
        const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
        const months = Math.floor((diff % (1000 * 60 * 60 * 24 * 365.25)) / (1000 * 60 * 60 * 24 * 30.44));
        const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30.44)) / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        liveClock.innerHTML = `
            <span class="time-unit">${years}</span> Years, <span class="time-unit">${months}</span> Months, <span class="time-unit">${days}</span> Days<br>
            <span class="time-unit">${hours}</span>h : <span class="time-unit">${minutes}</span>m : <span class="time-unit">${seconds}</span>s
        `;
    }

    /* THE REVEAL CLICK */
    btn.addEventListener("click", function() {
        btn.style.display = "none"; // Hide button
        content.style.display = "block"; // Show hidden content
        setTimeout(() => { content.style.opacity = 1; }, 10);
        document.body.style.overflow = "auto"; // Allow scrolling now

        // 1. Age Count Animation
        let tempAge = 0;
        const targetAge = 26; // Current age based on Jan 1999
        const counter = setInterval(() => {
            tempAge++;
            ageBox.textContent = tempAge + " Years";
            if(tempAge >= targetAge) {
                clearInterval(counter);
                
                // 2. Start Live Detailed Clock
                setInterval(updateDetailedAge, 1000);
                updateDetailedAge();

                // 3. Start Photos (pic1, pic2, pic3)
                const photos = ["pic1.jpg", "pic2.jpg", "pic3.jpg"];
                let current = 0;
                photo.src = photos[current];
                photo.style.opacity = 1;

                setInterval(() => {
                    photo.style.opacity = 0;
                    setTimeout(() => {
                        current = (current + 1) % photos.length;
                        photo.src = photos[current];
                        photo.style.opacity = 1;
                    }, 800);
                }, 4000);
            }
        }, 60);

        startAnimations(); // Fire the confetti/fireworks
    });

    /* Background Effects */
    function startAnimations() {
        // Confetti
        const canvas = document.getElementById("confetti");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let confetti = Array.from({length: 150}, () => ({
            x: Math.random() * canvas.width, y: Math.random() * canvas.height,
            r: Math.random() * 6 + 2, d: Math.random() * 4 + 2,
            color: `hsl(${Math.random() * 360}, 100%, 50%)`
        }));
        function drawConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            confetti.forEach(c => {
                ctx.beginPath(); ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
                ctx.fillStyle = c.color; ctx.fill();
                c.y += c.d; if (c.y > canvas.height) c.y = -10;
            });
            requestAnimationFrame(drawConfetti);
        }
        drawConfetti();

        // Fireworks
        const fw = document.getElementById("fireworks");
        const fctx = fw.getContext("2d");
        fw.width = window.innerWidth; fw.height = window.innerHeight;
        let particles = [];
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * (window.innerHeight / 2);
            for(let i=0; i<25; i++) particles.push({x, y, vx: Math.cos(i) * Math.random() * 6, vy: Math.sin(i) * Math.random() * 6, life: 50});
        }, 1000);
        function drawFireworks() {
            fctx.clearRect(0, 0, fw.width, fw.height);
            particles.forEach(p => {
                fctx.fillStyle = `hsl(${Math.random()*360}, 100%, 70%)`;
                fctx.fillRect(p.x, p.y, 3, 3);
                p.x += p.vx; p.y += p.vy; p.life--;
            });
            particles = particles.filter(p => p.life > 0);
            requestAnimationFrame(drawFireworks);
        }
        drawFireworks();
    }
};
</script>
</body>
</html>
