<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Barsha! üéâ</title>
<style>
    body { 
        margin:0; 
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        background: linear-gradient(135deg, #ff9a9e, #fad0c4); 
        text-align: center; 
        color: white; 
        overflow-x: hidden;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    #startScreen {
        position: absolute;
        z-index: 10;
        transition: opacity 1s ease-out;
    }

    #birthdayContent {
        display: none;
        opacity: 0;
        transition: opacity 2s ease-in;
        width: 100%;
    }

    h1 { font-size: 38px; text-shadow: 2px 2px 10px rgba(0,0,0,0.2); margin-top: 10px;}
    .age-box { font-size: 45px; font-weight: bold; text-shadow: 0 0 20px #fff; margin: 5px 0;}

    #detailedAge {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(12px);
        padding: 12px;
        border-radius: 20px;
        margin: 10px auto;
        max-width: 400px;
        border: 1px solid rgba(255,255,255,0.4);
    }

    .time-unit { font-weight: bold; color: #d6336c; font-size: 20px; }

    #surpriseBtn { 
        padding: 18px 45px; 
        border: none; 
        border-radius: 50px; 
        font-size: 24px; 
        cursor: pointer; 
        background: white;
        color: #ff6f91;
        font-weight: bold;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }

    /* --- TRIANGLE WITH EDGES --- */
    .triangle-wrapper {
        position: relative;
        width: 350px;
        height: 350px;
        margin: 20px auto;
        animation: spinAll 15s linear infinite;
    }

    /* The SVG lines (Edges) */
    .edges {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        z-index: 1;
    }

    .triangle-img {
        position: absolute;
        width: 90px;  
        height: 90px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid white;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        z-index: 2;
        top: 50%; left: 50%;
        /* Counter-spin to keep photos upright */
        animation: keepUpright 15s linear infinite;
    }

    /* Positioning Vertices */
    #img1 { transform: translate(-50%, -170px); } /* Top */
    #img2 { transform: translate(60px, 40px); }    /* Right bottom */
    #img3 { transform: translate(-150px, 40px); }  /* Left bottom */

    @keyframes spinAll {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    @keyframes keepUpright {
        from { transform: translate(-50%, -50%) rotate(0deg); }
        to { transform: translate(-50%, -50%) rotate(-360deg); }
    }

    /* Aligning counter-rotations specifically for their unique translated positions */
    #img1 { animation-name: upright1; }
    #img2 { animation-name: upright2; }
    #img3 { animation-name: upright3; }

    @keyframes upright1 { from { transform: translate(-50%, -150px) rotate(0deg); } to { transform: translate(-50%, -150px) rotate(-360deg); } }
    @keyframes upright2 { from { transform: translate(50px, 50px) rotate(0deg); } to { transform: translate(50px, 50px) rotate(-360deg); } }
    @keyframes upright3 { from { transform: translate(-140px, 50px) rotate(0deg); } to { transform: translate(-140px, 50px) rotate(-360deg); } }

    .cake-svg { margin: 10px auto; width: 300px; }
    canvas { position: fixed; top:0; left:0; pointer-events:none; z-index:1; }
</style>
</head>
<body>

<canvas id="confetti"></canvas>
<canvas id="fireworks"></canvas>

<div id="startScreen">
    <button id="surpriseBtn">üéÅ Open Your Surprise, Barsha! üéÅ</button>
</div>

<div id="birthdayContent">
    <h1>üéâ Happy Birthday, Barsha! üéÇ</h1>
    <div class="age-box" id="ageBox">0 Years</div>
    
    <div id="detailedAge">
        <div id="liveClock">Loading...</div>
    </div>

    <div class="triangle-wrapper">
        <svg class="edges" viewBox="0 0 350 350">
            <polygon points="175,25 325,275 25,275" fill="none" stroke="white" stroke-width="3" stroke-dasharray="10,5" />
        </svg>
        
        <img id="img1" class="triangle-img" src="pic1.jpg" alt="P1">
        <img id="img2" class="triangle-img" src="pic2.jpg" alt="P2">
        <img id="img3" class="triangle-img" src="pic3.jpg" alt="P3">
    </div>

    <div class="cake-svg">
        <svg width="300" height="260" viewBox="0 0 360 320">
            <ellipse cx="180" cy="290" rx="140" ry="15" fill="rgba(255,255,255,0.4)"/>
            <rect x="50" y="200" width="260" height="70" rx="20" fill="#ffb347"/>
            <rect x="65" y="140" width="230" height="65" rx="20" fill="#ffcc33"/>
            <text x="180" y="182" text-anchor="middle" font-size="32" fill="#d6336c" font-weight="bold" style="font-family: 'Brush Script MT', cursive;">Barsha</text>
            <rect x="90" y="90" width="180" height="55" rx="20" fill="#ffdd55"/>
            <text x="180" y="125" text-anchor="middle" font-size="16" fill="#d6336c" font-weight="bold">HAPPY BIRTHDAY</text>
            <g id="candles"></g>
        </svg>
    </div>
</div>

<script>
window.onload = function() {
    const startScreen = document.getElementById("startScreen");
    const surpriseBtn = document.getElementById("surpriseBtn");
    const content = document.getElementById("birthdayContent");
    const ageBox = document.getElementById("ageBox");
    const liveClock = document.getElementById("liveClock");
    const birthDate = new Date("1999-01-01T00:00:00");

    const candleGroup = document.getElementById("candles");
    for(let i=0; i<27; i++) {
        let x = 95 + i * 6.2;
        candleGroup.innerHTML += `<rect x="${x}" y="65" width="4" height="25" fill="#ff4d4d"/><circle cx="${x+2}" cy="60" r="3" fill="gold"><animate attributeName="r" values="2;4;2" dur="0.6s" repeatCount="indefinite"/></circle>`;
    }

    function updateDetailedAge() {
        const now = new Date();
        let diff = now - birthDate;
        const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
        const months = Math.floor((diff % (1000 * 60 * 60 * 24 * 365.25)) / (1000 * 60 * 60 * 24 * 30.44));
        const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 30.44)) / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        liveClock.innerHTML = `<span class="time-unit">${years}y ${months}m ${days}d</span><br><span class="time-unit">${hours}h : ${minutes}m : ${seconds}s</span>`;
    }

    surpriseBtn.addEventListener("click", function() {
        startScreen.style.opacity = "0";
        setTimeout(() => { startScreen.style.display = "none"; }, 1000);
        content.style.display = "block";
        setTimeout(() => { content.style.opacity = "1"; }, 100);

        let tempAge = 0;
        const targetAge = new Date().getFullYear() - 1999; 
        const counter = setInterval(() => {
            tempAge++; ageBox.textContent = tempAge + " Years";
            if(tempAge >= targetAge) {
                clearInterval(counter);
                setInterval(updateDetailedAge, 1000);
                updateDetailedAge();
            }
        }, 60);
        initAnimations();
    });

    function initAnimations() {
        const conf = document.getElementById("confetti");
        const ctx = conf.getContext("2d");
        conf.width = window.innerWidth; conf.height = window.innerHeight;
        let confetti = Array.from({length: 100}, () => ({
            x: Math.random() * conf.width, y: Math.random() * conf.height,
            r: Math.random() * 4 + 2, d: Math.random() * 3 + 1,
            color: `hsl(${Math.random() * 360}, 100%, 70%)`
        }));
        function drawC() {
            ctx.clearRect(0, 0, conf.width, conf.height);
            confetti.forEach(c => {
                ctx.beginPath(); ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
                ctx.fillStyle = c.color; ctx.fill();
                c.y += c.d; if (c.y > conf.height) c.y = -10;
            });
            requestAnimationFrame(drawC);
        }
        drawC();
    }
};
</script>
</body>
</html>
